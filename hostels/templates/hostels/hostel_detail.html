{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <h2>{{ hostel.name }}</h2>
  {% if hostel.photo %}
    <img src="{{ hostel.photo.url }}" alt="{{ hostel.name }}" class="img-fluid mb-3">
  {% endif %}
  <p>{{ hostel.description }}</p>
  <p><strong>Adresse :</strong> {{ hostel.address }} ({{ hostel.city }})</p>

  <hr>
  <h4>Chambres</h4>
  <a href="{% url 'add_room' hostel.id %}" class="btn btn-success btn-sm mb-3">Ajouter une chambre</a>

  <div class="row">
    {% for room in rooms %}
    <div class="col-md-4 mb-3">
      <div class="card">
        {% if room.photo %}
          <img src="{{ room.photo.url }}" class="card-img-top" alt="{{ room.name }}">
        {% endif %}
        <div class="card-body">
          <h5>{{ room.name }}</h5>
          <p>{{ room.description }}</p>
          <p><strong>Prix :</strong> {{ room.price_per_night }} €/nuit</p>
          {% if room.is_available %}
            <a href="{% url 'add_booking' room.id %}" class="btn btn-primary btn-sm">Réserver</a>
          {% else %}
            <span class="badge bg-danger">Indisponible</span>
          {% endif %}
        </div>
      </div>
    </div>
    {% empty %}
      <p>Aucune chambre pour cette auberge.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
